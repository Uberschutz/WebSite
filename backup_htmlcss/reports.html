<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link rel="stylesheet" href="css/reports.css">
	<title>Überschutz | Home</title>
</head>
<body>
<header id="home">
	<div class="hero">
		<div class="overlay"></div>
		<h1>Überschutz</h1>
	</div>
</header>
<div class="sticky-wrapper">
	<div class="row">
		<div class="col-sm-12">
			<nav>
				<ul>
					<li><a href="http://10.41.160.211:7171/" onclick="ShowHideDiv('Settings');" title="Ûberschutz is flexible">Settings</a></li>
					<li><a href="http://10.41.160.211:7171/reports" onclick="ShowHideDiv('Reports');" title="Trust does not exclude verification">Reports</a></li>
					<li><a href="#focus" onclick="ShowHideDiv('Advises');" title="if your child need help">Advise</a></li>
					<li><a href="#focus" onclick="ShowHideDiv('Alert');" title="keep an eye on the dangers">Alert</a></li>
					<li><a href="http://10.41.160.211:7171/worldstats" onclick="ShowHideDiv('WorldStat');" title="keep an eye on the dangers">WorldStat</a></li>
					<!--<li><a href="#focus" onclick="ShowHideDiv('WorldStat');" title="keep an eye on the dangers">WorldStat</a></li>-->

				</ul>
			</nav>
		</div>
	</div>
</div>

<section id="focus">
	<div class="row nextnav">
		<div class="col-sm-12">
			<div class="smartnav">
				<ul>
					<div class="options" data-value="day" id="options">
						<li><input name="option" type="radio" id="today" class="hide" onClick="setfilter('Today', 'options')" checked="checked">
							<label class="checkA" for="today">Today</label>
						</li>
						<li><input name="option" type="radio" id="weekly" class="hide" onClick="setfilter('This week', 'options')" checked="">
							<label class="checkA" for="weekly">Weekly</label>
						</li>
						<li><input name="option" type="radio" id="monthly" class="hide" onClick="setfilter('This month', 'options')" checked="">
							<label class="checkA" for="monthly">Monthly</label>
						</li>
						<li><input name="option" type="radio" id="annualy" class="hide" onClick="setfilter('This year', 'options')" checked="">
							<label class="checkA" for="annualy">Annualy</label>
						</li>
					</div>
				</ul>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<div class="usernav">
				<ul>
					<li><a href="#">User1</a></li>
					<li><a href="#">User2</a></li>
					<li><a href="#">User3</a></li>
					<li><a href="#">User4</a></li>
					<li><a href="#">User5</a></li>
					<li><a href="#">User6</a></li>
					<li><a href="#">User7</a></li>
					<li><a href="#">User8</a></li>
					<li><a href="#">User9</a></li>
					<li><a href="#">User10</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-6">
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="safe" aria-label="10">- Safe content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id='insult' aria-label="40">- Insulting content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="threat" aria-label="20">- Threatens content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="toxicity" aria-label="10">- Toxic content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="severe_toxicity" aria-label="50">- Truly toxic content -</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="col-sm-6">
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="obscene" aria-label="0">- Obscene content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="profanity" aria-label="10">- Profanity content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="inflammatory" aria-label="70">- Inflammatory content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="identity_attack" aria-label="90">- Identity attack content -</li>
					</ul>
				</div>
			</div>
			<div class="row master">
				<div class="col-sm-12 slave">
					<ul class="skills">
						<li class="skill" id="hateful" aria-label="60">- Hateful content -</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="row master">
		<div class="col-sm-12 slave">
			<ul class="skills">
				<li class="skill" aria-label="10">- This user is in dangers -</li>
			</ul>
		</div>
	</div>
	<div class="row master">
		<div class="col-sm-12 slave">
			<ul class="skills">
				<li class="skill" aria-label="80">- This user is harmful for others -</li>
			</ul>
		</div>
	</div>
</section>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script type="text/javascript">
	$(document).ready(function() {
		console.log('ready');
		const Http = new XMLHttpRequest();
		const url = 'http://93.118.34.39:5412/collect?token=EEB4D392E3564E922BC6479EFCE49';
		Http.open("POST", url, true);
		Http.setRequestHeader('Access-Control-Allow-Headers', '*');
		Http.setRequestHeader('Access-Control-Allow-Origin', '*');
		Http.setRequestHeader('Access-Control-Allow-Credentials', '*');
		var flags = [
			{name: 'obscene', value: 0},
			{name: 'safe', value: 0},
			{name: 'toxicity', value: 0},
			{name: 'inflammatory', value: 0},
			{name: 'severe_toxicity', value: 0},
			{name: 'threat', value: 0},
			{name: 'insult', value: 0},
			{name: 'identity_attack', value: 0},
			{name: 'profanity', value: 0}
		];
		var total = 0;
		Http.onreadystatechange = (e) => {
			if (Http.status === 200 && Http.readyState === 4) {
				const value = JSON.parse(Http.responseText);
				// console.log('value =>', value);
				for (var i = 0; i < value.data.length; i++) {
					// console.log(value.data[i].flags);
					var tmp_flags = value.data[i].flags.split(',');
					for (var j = 0; j < tmp_flags.length; j++) {
						var f = tmp_flags[j].toLowerCase();
						console.log(f);
						for (var k = 0; k < flags.length; k++) {
							if (flags[k].name === f) {
								flags[k].value += 1;
								total += 1;
							}
						}
					}
				}
				console.log(flags);
				for (var i = 0; i < flags.length; i++) {
					const n = flags[i].name;
					// 3 -> 110
					// ? -> 100
					const pct = (100 * flags[i].value) / total;
					console.log('changing', n, 'to', pct);
					// var obj = document.getElementById(n);
					// console.log(obj)
					var v = Math.ceil(pct / 10) * 10;
					console.log(v)
					document.getElementById(n).setAttribute('aria-label', v.toString());
					// document.getElementById(n).setAttribute('aria-label', Math.round(pct).toString());
					// document.getElementById(n).style.right = v%
					// document.getElementById(n).setAttribute('style', 'right: 10%');
					// document.getElementById(n).setAttribute('style', 'right: ' + Math.round(pct).toString() + '%');
					console.log(document.getElementById(n));
				}
			}
		};
		Http.send(null);
	});
</script>
<!--<script type="text/javascript">-->
<!--$(document).ready(function() {-->
<!--document.getElementById("today").checked = true;-->
<!--document.getElementById("weekly").checked = false;-->
<!--document.getElementById("monthly").checked = false;-->
<!--document.getElementById("annualy").checked = false;-->
<!--document.getElementById("todayW").checked = true;-->
<!--document.getElementById("weeklyW").checked = false;-->
<!--document.getElementById("monthlyW").checked = false;-->
<!--document.getElementById("annualyW").checked = false;-->
<!--console.log('document ready');-->
<!--console.log(document.getElementById("today"), document.getElementById("todayW"));-->
<!--// loadGraph();-->
<!--// getValueByFlag('safe');-->
<!--// const v = document.getElementById("safe").getAttribute('data-value');-->
<!--// changeEmoti(v);-->
<!--});-->

<!--function HideAllByClassName(clName){-->
<!--var elm = document.getElementsByClassName(clName);-->
<!--for (var i = 0; i < elm.length; i ++) {-->
<!--elm[i].style.display = 'none';-->
<!--}-->
<!--}-->

<!--function ShowHideDiv(idDiv){-->
<!--HideAllByClassName('swap');-->
<!--var elm = document.getElementById(idDiv);-->
<!--elm.style.display = "";-->
<!--}-->

<!--function Toggle(parameter) {-->
<!--console.log(parameter, "parameter has been toggled");-->
<!--// here must be an api call to toggle parameter in order to let the bot knows what he should triggered-->
<!--}-->

<!--function setfilter(setting, option) {-->
<!--// myOption = setting;-->
<!--// document.getElementById("text").innerHTML = myOption;-->
<!--console.log('setting is', setting, 'and options is', option);-->
<!--switch (setting) {-->
<!--case 'Today':-->
<!--document.getElementById(option).setAttribute('data-value', 'day');-->
<!--break;-->
<!--case 'This week':-->
<!--document.getElementById(option).setAttribute('data-value', 'week');-->
<!--break;-->
<!--case 'This month':-->
<!--document.getElementById(option).setAttribute('data-value', 'month');-->
<!--break;-->
<!--case 'This year':-->
<!--document.getElementById(option).setAttribute('data-value', 'year');-->
<!--break;-->
<!--}-->
<!--}-->
<!--</script>-->
<script src="js/effect.js" charset="utf-8"></script>
</body>
</html>
